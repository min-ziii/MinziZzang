package com.test.java.file;

import java.io.File;
import java.io.IOException;
import java.util.Calendar;

public class Ex54_File {
	
	private static int fileCount;
	private static int dirCount;
	private static long dirSize;
	
	public static void main(String[] args) {
		
		/*
		 * 
		 * 1. íŒŒì¼/ë””ë ‰í† ë¦¬ ì¡°ì‘
		 * 	- ìœˆë„ìš° íƒìƒ‰ê¸°ë¡œ í•˜ëŠ” í–‰ë™ -> ìë°”ë¡œ êµ¬í˜„
		 * 	- íŒŒì¼/ë””ë ‰í† ë¦¬ ì •ë³´ ì—´ëŒ
		 * 	- ìƒì„±, ìˆ˜ì •, ì‚­ì œ, ì´ë™ ë“±
		 * 
		 * 2. íŒŒì¼ ì…ì¶œë ¥
		 * 
		 */
		
		m1();
		//m2();
		//m3();
		//m4();
		//m5();
		//m6();
		//m7();
		//m7_1();
		//m8();
		//m9();
		//m10();
		//m11();
		//m12();
		//m12_1();
		//m13();
		//m14();
		
	}
	//===================================================================================================================
	private static void m1() {
		
		// ìë°” í”„ë¡œê·¸ë¨ -> (ì ‘ê·¼) -> ì™¸ë¶€ íŒŒì¼
		//	1. ì™¸ë¶€ íŒŒì¼ì„ ì°¸ì¡°í•˜ëŠ” ê°ì²´ë¥¼ ìƒì„± -> ì¤‘ê³„ì¸(ëŒ€ë¦¬ì¸)
		// 	2. ì°¸ì¡° ê°ì²´ ì¡°ì‘ -> ì‹¤ì œ íŒŒì¼ì— ì ìš©
		
		// íŒŒì¼ ê²½ë¡œ
		String path = "C:\\class\\code\\java\\file\\data.txt";
		
		// íŒŒì¼ ì°¸ì¡° ê°ì²´ -> java.io.File í´ë˜ìŠ¤
		File file = new File(path);
		
		// íŒŒì¼ ê²½ë¡œê°€ ì˜ ë˜ì—ˆëŠ”ì§€ í™•ì¸
		System.out.println(file.exists());
		
		if(file.exists()) {
			System.out.println("getName : "+file.getName());					// íŒŒì¼ì˜ ì´ë¦„
			System.out.println("isFile : "+file.isFile());						// íŒŒì¼ì¸ê°€??
			System.out.println("isDirectory : "+file.isDirectory());			// ë””ë ‰í† ë¦¬ì¸ê°€??
			System.out.println("length : "+file.length());						// íŒŒì¼í¬ê¸°
			System.out.println("getAbsolutePath : "+file.getAbsolutePath());	// ê²½ë¡œ
			
			System.out.println("lastModified : "+file.lastModified());			// ìˆ˜ì •í•œ ë‚ ì§œ
			Calendar c1 = Calendar.getInstance();
			c1.setTimeInMillis(file.lastModified());
			System.out.printf("%tF %tT\n",c1,c1);
			
			System.out.println("isHidden : "+file.isHidden());					// ìˆ¨ê¸´ íŒŒì¼ì¸ê°€??
			System.out.println("canRead : "+file.canRead());					// ì½ì„ ìˆ˜ ìˆëŠ” íŒŒì¼ì¸ê°€??
			System.out.println("canWrite : "+file.canWrite());					// ì“¸ìˆ˜ ìˆëŠ” íŒŒì¼ì¸ê°€??
			System.out.println("getParent : "+file.getParent());				// íŒŒì¼ì´ ë“¤ì–´ìˆëŠ” í´ë” ê²½ë¡œ
		} else {
			System.out.println("íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤");
		}
	}
	//===================================================================================================================
	private static void m2() {
		
		// *** í´ë”ëŠ” íŒŒì¼ì´ë‹¤ ***

		String path = "C:\\class\\code\\java\\file";
		
		// í´ë” ì°¸ì¡° ê°ì²´
		File dir = new File(path);
		if(dir.exists()) {
			System.out.println("getName : "+dir.getName());						// ì´ë¦„
			System.out.println("isFile : "+dir.isFile());						// íŒŒì¼ì¸ê°€??
			System.out.println("isDirectory : "+dir.isDirectory());				// ë””ë ‰í† ë¦¬(íŒŒì¼)ì¸ê°€??
			System.out.println("length : "+dir.length());						// íŒŒì¼í¬ê¸°	// ë¬´ì¡°ê±´ í´ë”ì˜ í¬ê¸°ëŠ” 0 ***(ë³´í†µ ë³´ì´ëŠ” í´ë”ì˜ í¬ê¸°ëŠ” í´ë”ì•ˆ íŒŒì¼ë“¤ì˜ ë¬´ê²Œë¥¼ í•©í•œê²ƒ. í´ë”ëŠ” 0)
			System.out.println("getAbsolutePath : "+dir.getAbsolutePath());		// ê²½ë¡œ
			System.out.println("lastModified : "+dir.lastModified());			// ìˆ˜ì •í•œ ë‚ ì§œ
			System.out.println("isHidden : "+dir.isHidden());					// ìˆ¨ê¸´ íŒŒì¼ì¸ê°€??
			System.out.println("canRead : "+dir.canRead());						// ì½ì„ ìˆ˜ ìˆëŠ” íŒŒì¼ì¸ê°€??
			System.out.println("canWrite : "+dir.canWrite());					// ì“¸ìˆ˜ ìˆëŠ” íŒŒì¼ì¸ê°€??
			System.out.println("getParent : "+dir.getParent());					// íŒŒì¼ì´ ë“¤ì–´ìˆëŠ” í´ë” ê²½ë¡œ
		} else {
			System.out.println("íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤");
		}	
	}
	//===================================================================================================================
	private static void m3() {
		
		// íŒŒì¼ ì¡°ì‘ -> ìƒì„±, ë³µì‚¬(ì§€ê¸ˆì•ˆí•¨), ì´ë™, íŒŒì¼ëª… ìˆ˜ì •, ì‚­ì œ ë“±
		
		// ìƒì„±
		String path = "C:\\class\\code\\java\\file\\score.txt";
		
		File file = new File(path);
		
		try {
			// ê¸°ì¡´ì— ë™ì¼íŒŒì¼ì´ ìˆìœ¼ë©´ ë™ì‘ ì•ˆí•¨
			System.out.println(file.createNewFile());	// ë§Œë“¤ì—ˆì„ì‹œ true, ê¸°ì¡´ì— ìˆì–´ì„œ ì•ˆë§Œë“¤ì—ˆì„ì‹œ false
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
	//===================================================================================================================
	private static void m4() {
		
		// íŒŒì¼ëª… ìˆ˜ì •
		String path = "C:\\class\\code\\java\\file\\score.txt";
		String path2 = "C:\\class\\code\\java\\file\\jumsu.txt";
		
		File file = new File(path);
		File file2 = new File(path2);
		
		System.out.println(file.renameTo(file2));
	}
	//===================================================================================================================
	private static void m5() {
		
		// íŒŒì¼ëª… ìˆ˜ì •
		String path = "C:\\class\\code\\java\\file\\score.txt";
		String path2 = "C:\\class\\dev\\score.txt";
				
		File file = new File(path);
		File file2 = new File(path2);
				
		System.out.println(file.renameTo(file2));
	}
	//===================================================================================================================
	private static void m6() {
		
		// íŒŒì¼ ì‚­ì œ
		String path = "C:\\class\\code\\java\\file\\data.txt";
		File file = new File(path);
		
		// ë³´í†µ ì‚­ì œ: íœ´ì§€í†µ
		// ì§„ì§œ ì‚­ì œ: ë³µêµ¬ ë¶ˆê°€ëŠ¥
		System.out.println(file.delete());
	}
	//===================================================================================================================
	private static void m7() {
		
		// í´ë” ì¡°ì‘
		String path = "C:\\class\\code\\java\\file\\aaa";
		File dir = new File(path);
		
		System.out.println(dir.mkdir());
	}
	//===================================================================================================================
	private static void m7_1() {
		
		// ë‹¤ì¤‘ í´ë” ì¡°ì‘
		String path = "C:\\class\\code\\java\\file\\aaa\\bbb\\ccc\\ddd";
		File dir = new File(path);
		
		System.out.println(dir.mkdirs());
	}
	//===================================================================================================================
	private static void m8() {
		
		//ìš”êµ¬ì‚¬í•­ ] íšŒì›ì •ë³´ -> íšŒì›ëª…ìœ¼ë¡œ ê°œì¸ í´ë” ìƒì„±
		String[]member = {"í™ê¸¸ë™","ì•„ë¬´ê°œ","ê°•ì•„ì§€","ê³ ì–‘ì´","ë³‘ì•„ë¦¬"};
		
		for(int i=0;i<member.length;i++) {
			String path = "C:\\class\\code\\java\\file\\íšŒì›\\"+member[i];
			File dir = new File(path);
			System.out.println(dir.mkdir());
		}
	}
	//===================================================================================================================
	private static void m9() {
		
		// ìš”êµ¬ì‚¬í•­] ì¼ì •ê´€ë¦¬ -> ë‚ ì§œë³„ í´ë” ìƒì„± -> 2024-01-01 ~ 2024-12-31
		//	- í´ë” 366ê°œ ìƒì„±
		
		Calendar c = Calendar.getInstance();
		c.set(2024, 0, 1);
		
		System.out.println(c.getActualMaximum(Calendar.DAY_OF_YEAR));
		
		for(int i =0; i<c.getActualMaximum(Calendar.DAY_OF_YEAR);i++) {
			String path = String.format("C:\\class\\code\\java\\file\\ì¼ì •\\%tF",c);
			File dir = new File(path);
			dir.mkdir();
			
			System.out.printf("%tF\n",c);
			c.add(Calendar.DATE, 1);
		}
	}
	//===================================================================================================================
	private static void m10() {
		
		// í´ë”ëª… ìˆ˜ì • or í´ë” ì´ë™
		//	- renameTo
		String path = "C:\\class\\code\\java\\file\\member";
		String path2 = "C:\\class\\dev\\member";
		
		File dir = new File(path);
		File dir2 = new File(path2);
		
		System.out.println(dir.renameTo(dir2));
	}
	//===================================================================================================================
	private static void m11() {
		
		// í´ë” ì‚­ì œ
		String path = "C:\\class\\code\\java\\file\\aaa";
		File dir = new File(path);
		
		System.out.println(dir.delete());	// í´ë” ì•ˆì— ë‚´ìš©ë¬¼ì´ ìˆì„ ê²½ìš° ì•ˆì— ë‚´ìš©ë¬¼ë“¤ì„ ì „ë¶€ ì§€ì›Œì•¼ ê°€ëŠ¥
	}
	//===================================================================================================================
	private static void m12() {
		
		// íŠ¹ì • í´ë” -> ë‚´ìš©ë¬¼ ì—´ëŒ(íŒŒì¼, ìì‹í´ë”)
		String path = "C:\\class\\dev\\eclipse";	// íŒŒì¼ + í´ë”
		File dir = new File(path);
		
		if(dir.exists()) {
			// 1. dir.list()
			// 2. dir.listFile()
			
			String[] list = dir.list();
			
			for(String item:list) {
				// ê°€ì ¸ì˜¨ itemì´ í´ë”? íŒŒì¼?
				System.out.println(item);
				File subFile = new File(path+"\\"+item);
				System.out.println(subFile.isFile()+"\n");
			}
		} else {
			System.out.println("í´ë”ê°€ ì—†ìŠµë‹ˆë‹¤");
		}
	}
	//===================================================================================================================
	private static void m12_1() {
			
		// íŠ¹ì • í´ë” -> ë‚´ìš©ë¬¼ ì—´ëŒ(íŒŒì¼, ìì‹í´ë”)
		String path = "C:\\class\\dev\\eclipse";	// íŒŒì¼ + í´ë”
		File dir = new File(path);
			
		File[] list = dir.listFiles();
		
		for(File item:list) {
			if (item.isDirectory()) {
				System.out.printf("ğŸ“ : %s\n",item.getName());
			}
		}
		for (File item:list) {
			if(item.isFile()) {
				System.out.printf("í´ë” : %s\n",item.getName());
			}
		}
	}
	//===================================================================================================================
	private static void m13() {
		
		// í´ë” í¬ê¸°?? -> ì¬ê·€ êµ¬ì¡°
		String path = "C:\\class\\code\\java\\file";
		File dir = new File(path);
		
		int count = 0;	// íŒŒì¼ê°œìˆ˜
		
		if(dir.exists()) {
			File[]list = dir.listFiles();					// ë¶€ëª¨ í´ë”
			for(File file:list) {
				if(file.isFile()) {
				count ++;
				}
			}
			for(File subdir : list) {
				if(subdir.isDirectory()) {
					// ìì‹ í´ë” ë‚´ìš©
					File[] sublist = subdir.listFiles();	// ìì‹ í´ë”
					for(File subfile:sublist) {
						if(subfile.isFile()) {
							count ++;
						}
					}
					for(File subsubdir:sublist) {
						if(subsubdir.isDirectory()) {
							
							// ìì‹ì˜ ìì‹ í´ë”
							File[]subsublist = subsubdir.listFiles();
							
							for(File subsubfile : subsublist) {
								if(subsubfile.isFile()) {
									count++;
								}
							}
						}
					}
				}
			}
			
			System.out.printf("íŒŒì¼ ê°œìˆ˜: %dê°œ\n",count);
		}
	}
	//===================================================================================================================
	private static void m14() {
		
		// í´ë” -> í¬ê¸°??
		// 	1. í¬ê¸° -> 751MB (787,983,361 ë°”ì´íŠ¸)
		// 	2. ë‚´ìš© -> íŒŒì¼ 11,563, í´ë” 2,413
		String path = "C:\\class\\dev\\eclipse";
		File dir = new File(path);
		
		if(dir.exists()) {
			count(dir);
			System.out.printf("ì´ íŒŒì¼ ê°œìˆ˜ : %,dê°œ\n",fileCount);
			System.out.printf("ì´ í´ë” ê°œìˆ˜ : %,dê°œ\n",dirCount);
			System.out.printf("í´ë” í¬ê¸° : %,dMB\n",dirSize/1024/1024);
		}
	}
	
	public static void count(File dir) {
		File[] list = dir.listFiles();
		for(File file:list) {
			if(file.isFile()) {
				fileCount++;
				dirSize += file.length();
			}
		}
		for(File subdir:list) {
			if(subdir.isDirectory()) {
				dirCount++;
				count(subdir);
			}
		}
	}
}
